<!DOCTYPE html>
<html>
  <head>
    <title>My Form</title>
    <style>
      form {
        display: flex;
        flex-direction: column;
        width: 400px;
        gap: 10px;
      }
      .input-invalid {
        background-color: red;
      }
    </style>
  </head>
  <body>
    <form action="" method="get">
      <label for="firstName">First Name</label>
      <input id="firstName" type="text" />
      <label for="email">Email</label>
      <input id="email" type="text" />
      <button id="submit" disabled>Submit</button>
    </form>
    <script type="text/javascript">
      const firstName = document.getElementById("firstName");
      const email = document.getElementById("email");
      const button = document.getElementById("submit");

      const checkFirstnameValid = () =>
        /^[a-zA-Z]{2,20}$/.test(firstName.value);
      const checkEmailValid = () => /^.+\@.+\..+$/.test(email.value);

      const checkButton = () => {
        const isFirstnameValid = checkFirstnameValid();
        const isEmailValid = checkEmailValid();

        button.disabled = !(isFirstnameValid && isEmailValid);
      };

      firstName.addEventListener("keyup", checkButton);
      email.addEventListener("keyup", checkButton);

      firstName.addEventListener("blur", () => {
        if (!checkFirstnameValid()) {
          firstName.classList.add("input-invalid");
        } else {
          firstName.classList.remove("input-invalid");
        }
      });

      email.addEventListener("blur", () => {
        if (checkEmailValid()) {
          email.style.background = "none";
        } else {
          email.style.background = "red";
        }
      });

      firstName.addEventListener("focus", () => {
        firstName.classList.remove("input-invalid");
      });

      email.addEventListener("focus", () => {
        email.style.background = "none";
      });
    </script>
  </body>
</html>
